1.优化小程序包

优化逻辑层层js代码体积，如合理的封装组件，删除无用代码，合理划分组件等
提升最低基础库版本以接入多种包优化方式。例如小程序在3.270.0才支持的生命周期onPrefetch

2.提前核心请求发送时机

检查所有核心页面的request是从那个生命周期发出的，如果发出核心request的生命周期，执行时间小雨250ms。例如：xx小程序通过性能时序图可知，在将核心请求提前至onPrefetch生命周期后，核心请求发出大约在88ms左右。
减少异步端能力/Promise的使用以尽快发出请求。保存端能力返回的结果，例如：用户的定位信息，用户系统的信息
避免发出多次核心request。页面fmp仅出发一次核心request
延后首屏渲染非必要request。例如：在xxx详情页中，就有两个接口，一个接口是获取 主体信息，一个接口是获取评论数据，我们是可以将获取评论这个接口，等首屏渲染完成后再发出。

3. 优化核心请求服务器响应时长

优化核心请求服务器响应时长。这个是需要根据现有请求耗时，评估出需要优化的接口（根据现有耗时、流量、成本），推动后端同学进行优化
配置prelink以加速网络请求
服务端开始gzip

4. 优化首屏渲染

按需渲染，检查核心setData渲染的非可视区域显示内容/显示屏幕时图体积的比例来判断状态
避免在fmp前频繁调用setData。如果setData次数少于3则为通过
避免长时间处理请求数据。核心请求结束到核心setData的调用时间间隔，小于15ms，为通过

5. 避免不必要的swan API/console调用

避免重复swan API调用，评判标准重复调用swan API的同步累积耗时小雨10ms，则通过，大于20ms，为优先，大于50ms为高优。重复调用用swan API的判断标准是：500ms内，调用相同的API，函数参数与返回参数完全一致。
避免console。线上尽可能不要使用console

6. 优化图片使用

fmp前，不在可视区域的图片均开始lazy-load属性
避免请求过大的图片。页面中所有图片的宽高乘积小于实际显示宽高乘积 * (设备像素比 ^ 2)
防止页面抖动，fmp前，页面中的图片宽高适中保持不变



#  小程序的架构是什么样子的，有了解过微信小程序或者其他小程序吗？
小程序框架性能优化实践
先简单介绍一下小程序的开发流程

首先我们用swan写布局
接着通过开发者工具打包，上传到我们的小程序到B端服务器，（如果是内部，我还是通过流水线进行上线发布的）
最后小程序的审核流程，有机审、人审
最后是用户点击小程序时，客服端请求小程序C段服务器，C端服务器再从B端服务器获取小程序包，整个过程都是加密传输，可以保证代码的安全。

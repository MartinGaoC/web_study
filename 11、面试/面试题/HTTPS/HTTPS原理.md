* 当使用https 443端口的时候  80 端口还是有用的 用来传输数据
* https 443端口是浏览器默认的 不可修改，浏览器发现是https协议就会向服务器的443端口发起访问
* 浏览器访问443 提交支持的加密算法列表（CA）
* 服务器收到后，返回收到请求，通过443端口下发一个加密算法 
* 返回80端口 获取数据


* 对称加密
* 浏览器服务器双方同时持有一个密钥，但是用户每天访问很多网址，没办法都知道。
  
* 非对称加密
* 一公一私
* 只有对应的 才能相互解密
* 问题是如果拦截了明文传输的公钥，就可以解私钥




* https的非对称加密+对称加密
* 1、服务器有 公钥A 密钥AA
* 2、通过明文传给浏览器
* 3、浏览器收到随机生成一个秘钥x
* 4、用公钥A加密传给服务器
* 5、服务器用秘钥AA解开获得密钥x，发送消息就用密钥x


* 中间人攻击
* 针对上边的步骤
* 1、在经过中间件的时候，截取服务器下发的公钥A换成自己的公钥B发给浏览器
* 2、浏览器生成秘钥x之后,用公钥B发给服务器，被拦截后，用自己的公钥BB解开 获得秘钥x
* 3、然后再用密钥A加密一下 发送给浏览器


* 证明浏览器收到的公钥就是这个网站的
* 1、给服务器公钥发个身份证（CA）数字证书
* 2、给证书内容生成一份签名，签名可以确定是由发送方发的


* HTTPS获取加秘秘钥过程
* 1、客户端发起请求、明文传输请求信息，包含版本信息一系列。访问到服务器的443端口
* 2、服务器接到请求，会申请一份证书，自己申请的需要本地配置信任
* 3、服务器返回这个协商的结果，用什么协议版本以及算法还有这个证书，相当于公钥
* 4、客户端验证证书的合法性，由客户端的SSL/TLS完成。然后用证书加密
* 5、客户端用公钥加密私钥后，发送给服务端，服务端就得到这个私钥了
* 6、服务端用私钥解密，就拿到对称加密的秘钥了
* 7、然后就用这个私钥进行对称加秘的通信